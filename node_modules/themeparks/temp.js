const themeparks = require("./lib");

//themeparks.Settings.ProxyURL = "socks://139.162.237.11:1080";

// access a specific park
var disneyMagicKingdom = new themeparks.Parks.TokyoDisneyResortMagicKingdom();
var disneyMagicKingdom2 = new themeparks.Parks.TokyoDisneyResortDisneySea();

function TestCall() {
    // access wait times by Promise
    return disneyMagicKingdom.GetWaitTimes().then(function(rides) {
        // print each wait time
        for (var i = 0, ride; ride = rides[i++];) {
            console.log(ride.name + ": " + ride.waitTime + " minutes wait");
        }
        return disneyMagicKingdom2.GetWaitTimes().then(function(rides) {
            // print each wait time
            for (var i = 0, ride; ride = rides[i++];) {
                console.log(ride.name + ": " + ride.waitTime + " minutes wait!");
            }

            return Promise.resolve();
        });

    }, console.error);
}

TestCall().then(() => {
    TestCall();
});